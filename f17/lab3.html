<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Lab 3, CSci 127, Introduction to Computer Science, Hunter College, CUNY, Fall 2017</title>
    <link type="text/css" rel="stylesheet" href="../../../lehman.css" />
</head>
<body>

<div id="header">

<h2>Lab 3<br>CSci 127: Introduction to Computer Science<br>
Hunter College, City University of New York<br>
Fall 2017<br><br>
</h2>
</div>

<div>

<p>
Today's lab will focus on image files and colors
in Python.  

<p>Software tools needed:  terminal (command line), web browser and Python IDLE programming 
environment.


</div>



<div>
<h3>Using Python, Gradescope, and Blackboard</h3>

<p>See <a href="lab1.html">Lab 1</a> for details on using Python, Gradescope, and Blackboard.
</p>
</div>

<div>
<h3>Colors</h3>

<p>
There are several different ways to specify colors.  We will use colors, by name, by percentage, and by hexadecimal format.
</p>

</div>

<div>
<h4>Names for Colors</h4>

<p>
For common colors, you can give the name of the color, as a string.  For example, run the program (click the triangle) to see two turtles, drawing in different colors:

<p>
<iframe src="https://trinket.io/embed/python/b594e53e4a" width="100%" height="300" frameborder="0" marginwidth="0" marginheight="0" allowfullscreen></iframe>
</p>

<!--
<p>There are <a href="http://www.w3schools.com/colors/colors_hex.asp">more than 100 colors</a> that we can use by name.  For example:
</p>
<p>
<a href="http://www.w3schools.com/colors/colors_hex.asp"><img src="blues.png" ></a>
</p>
<!--Here's a list:
<p>
<!--
<iframe src="http://www.computerhope.com/htmcolor.htm#purple" width="100%" height="250" frameborder="0" marginwidth="0" marginheight="0" allowfullscreen></iframe>-->
<!--
<p>Some are obvious, like (red or blue), others are a bit more obscure (like darksalmon or chartreuse).  What color is darksalmon?  Change the color of one of the turtles in the coding window above to find out.  Add in a new turtle and make it your favorite color.  Draw a few lines to demonstrate its color.
</p>
-->

<p>Most common color names are available (as are some not-so-common ones).


</div>

<div>
<h4>Colors by Decimals</h4>

<p>
As we saw above, the turtle package recognizes many common colors by name.  If your favorite color is not on that list, you can make a new color by specifying how much of the <span style="color:red">red</span>, <span style="color:green">green</span>, and <span style="color:blue">blue</span> ('<span style="color:red">R</span><span style="color:green">G</span><span style="color:blue">B</span>') light intensity you would like. The range for each is from 0 (no light) to 255 (100% light).  For example, if all the light intensities are 255 (100% of the possible), then the color is white.  
</p>

<p> Read the code below and guess what color each turtle is.  Check your guess by running the program:
<br><br>
</p>

<p>
<iframe src="https://trinket.io/embed/python/11f1644654" width="100%" height="600" frameborder="0" marginwidth="0" marginheight="0" allowfullscreen></iframe>
</p>     

<p>Let's look at some of the shades of red that are available.  Here's our plan (or <a href="http://en.wikipedia.org/wiki/Pseudocode">pseudocode</a>):
<ol>
	<li> Create a turtle, <tt>tess</tt>.
	<li> For 10, 20, 30, ..., 250,
	<li> &nbsp;&nbsp; Move forward 10 steps
	<li> &nbsp;&nbsp; Make the turtle a bit larger each time
	<li> &nbsp;&nbsp; Make the turtle a bit more red each time
</ol>

Let's change each piece of our "To Do" list into Python code:
<ol>
	<li> Create a turtle, <tt>tess</tt>.
	
		<p> We've done this before.  We import the turtle module and set up the turtle.  One new thing we need to do, is to tell the turtle library that we would like to represent colors as decimal numbers:
<pre style = "background-color:lavender;width:650px">
#A program that demonstrates the shades of red
#Fall 2017

import turtle			#Import the turtle drawing package

turtle.colormode(255)		#Allows colors to be given as 0...255
tess = turtle.Turtle()		#Create a turtle
</pre>

		<p> To keep our drawing from running off the screen, we'll move <tt>tess</tt> backwards before we start our loop:
		
<pre style = "background-color:lavender;width:650px">
tess.backward(100)		#Move her backwards, to give more space to draw
</pre>
		
	<li> For 10, 20, 30, ..., 250,
	
		<p>This can be done with a <tt>for</tt>-loop and a <tt>range</tt> that starts at 10, stops at 255, and steps up by 10 each time:
		
<pre style = "background-color:lavender;width:650px">
for i in range(0,255,10):
</pre>
	<li> &nbsp;&nbsp; Move forward 10 steps
<pre style = "background-color:lavender;width:650px">
     tess.forward(10)		#Move forward  
</pre>
	<li> &nbsp;&nbsp; Make the turtle a bit larger each time
<pre style = "background-color:lavender;width:650px">
     tess.pensize(i)		#Set the drawing size to be i (larger each time)   
</pre>	
	<li> &nbsp;&nbsp; Make the turtle a bit more red each time
<pre style = "background-color:lavender;width:650px">

     tess.color(i,0,0)		#Set the red channel to be i (brighter each time)    
</pre>	
</ol>

<p>Here's the whole program altogether.  Copy it over to an idle file window and try running it:

<pre style = "background-color:lavender;width:700px">
#A program that demonstrates the shades of red
#Fall 2017

import turtle				#Import the turtle drawing package

turtle.colormode(255)		#Allows colors to be given as 0...255
tess = turtle.Turtle()		#Create a turtle
tess.shape("turtle")		#Make it turtle shaped
tess.backward(100)			#Move her backwards, to give more space to draw

#For 0,10,20,...,250
for i in range(0,255,10):
     tess.forward(10)		#Move forward
     tess.pensize(i)		#Set the drawing size to be i (larger each time)
     tess.color(i,0,0)		#Set the red channel to be i (brighter each time)    
</pre>

<p>
The resulting graphics window is:
<p>
<img height=400 src="shadesOfRed.png">

<p>
How would you show shades of blue?  When you have figured out the answer, see the <a href="ps.html">Programming Problem List</a>.

</div>

<div>
<h4>Colors by Hexadecimal</h4>

<p>
A common way to represent colors is using hexadecimal numbers.  Our traditional decimal, or base-10 numbers, use 10 symbols for each digit:  0, 1, 2, 3, ..., 9.  Hexadecimail, or base-16 numbers, use 16 symbols.  In addition to 0, 1, 2, ..., 9, the letters A, B, C, D, E, and F are also used.  

<p> A good way to think about it is to think about what the world would be like if everyone had 8 fingers on each hand, instead of 5.  When we count, on 10 fingers, we can use the symbols 0, 1, 2, ..., 9 to label each finger:

<p>
<img src="hands10.png" style="padding:25px">
<br>
(from <a href ="http://www.i-programmer.info/babbages-bag/478-hexadecimal.html">i-programmer.info</a>)

<p>
Doing the same for 16 fingers, we use 0, 1, 2, ..., 9, and then A, B, ..., E when we run out of the normal symbols for numbers:

<p>
<img src="hands16.png" style="padding:25px">
<br>
(from <a href ="http://www.i-programmer.info/babbages-bag/478-hexadecimal.html">i-programmer.info</a>)

<p>
The first 9 numbers are the same in both decimal and hexadecimal, but larger numbers are different.  For example, counting out 11 on our 8-fingered hands gives the symbol A.  So, the decimal number 11 is the single digit hexadecimal number, A.  

<p> Going in the other direction, the hexadecimal number 11, is counting through all the (8-fingered hands) fingers (16) plus one more, yielding 17. 

<p>  Why does this matter?  Our color values range in decimal from 0 to 255.  If we write these in hexadecimal, the range is 0 to FF.  FF is the largest hexadecimal number, so, this range of values fits perfectly in two-digit hexadecimal numbers.  Triples of these hexadecimal values are an extremely common way to represent colors.

<p>For example, here are some shades of blue, given with their name and hexadecimal value:
<p>
<a href="http://www.w3schools.com/colors/colors_hex.asp"><img src="blues.png" ></a>
</p>

<p>
The leading hash sign ('#') is used to indicate that this is a hexadecimal number:
<ul>
	<li> The next two digits are for the amount of red.  
	<li> The middle two digits are for the amount of green.
	<li> The last two digits are for the amount of blue.
</ul>
<p>
The first color on the list has <tt>00</tt> or 0% red, <tt>00</tt> or 0% green, and <tt>00</tt> or 0% red, and represents the color black.  These shades of blue all have no red (first two digits are <tt>00</tt>) and no green (middle two digits are <tt>00</tt>).  By varying the values of the last two digits, we have a dark, navy blue (<tt>80</tt> in the last two digits) to a bright blue (<tt>FF</tt> in the last two digits). 

<p>
We can set the color of turtles using hexcodes.  For example, to create a turtle, named <tt>thea</tt>, and set her color to the medium blue (using the hex code from the above list), we can:
<pre style = "background-color:lavender;width:400px">
import turtle

thea = turtle.Turtle()
thea.shape("turtle")
thea.color("#0000CD")
</pre>

<p>
producing a graphics window with:
<p>
<img src="medBlueTurtle.png" style="padding:25px">

<p>
The code above always produces a medium blue turtle.  How would you modify the program to let the user specify a hex code for the color of the turtle?
When you have figured out the answer, see the <a href="ps.html">Programming Problem List</a>.

</div>

<div>
<h3> More on Files & Command Line Interface</h3>

<p> 
The terminal has its own set of commands (separate from Python) that we can use to communicate with the operating system.  It's often called the "command line interface" or shell.  It predates the graphical interface that is now available and is incredibly useful for automating tasks and working on remote servers.  Each lab, we will introduce several useful shell commands.

We have already used the shell in the previous two labs.  When you typed:
<pre style = "background-color:lavender;width:400px">
idle3
</pre>
you were asking the operating system to launch the program <tt>idle3</tt>.  The laptop was configured to first look in folders containing applications, and then to check your home folder, and then to check the current folder you are using to find an application by that name.  

<p>
Let's create a new <b>directory</b>, or folder, to hold your images using the shell.  Where it says <tt>thomasH</tt> below, replace with your name.  It is easier if you avoid spaces in the names:
<ul>
	<li>  Open a new terminal window (go to the upper left menu icon, search for terminal and click, or if you already have terminal, you can click on its menu to create a new window).
	<li>  In the terminal window, type:
	<pre style = "background-color:lavender;width:400px">
pwd
	</pre>
	This tell you the <b>path</b>, or location, of your current working directory.  To see what is in the folder, you request a 'listing':
	<pre style = "background-color:lavender;width:400px">
ls
	</pre>
	<li> To add a new directory, we type:
	<pre style = "background-color:lavender;width:400px">
mkdir thomasH
	</pre>
	(replace <tt>thomasH</tt> with your name to create a directory for you!).
	
	<p>
	Now, when we list the current directory, we should new item (namely the  directory with your name):
<pre style = "background-color:lavender;width:400px">
ls
	</pre>	
	
	<li> Let's change directories:
<pre style = "background-color:lavender;width:400px">
cd thomasH
	</pre>
	If we ask for a listing (<tt>ls</tt>), we will now see the contents of your directory.	
</ul>
The graphical interface and shell are operating on the same underlying system, so, changes you make with one can be seen by the other.  If you open up the file
icon (on left hand menu bar) and click the <tt>Home</tt> directory, you will see the folder you just created.

<p> In the next lab, we will explain how to copy and move files between directories.

</div>


<div>
<h3>Images</h3>


There are many different formats to store images.  Some store the information about the color of every <i>pixel</i> ("picture element" or dot on the screen).  Others store end points of lines or boundaries of regions and the colors of each.  We focus on the former, and in particular, use the <tt>png</tt> (portable network graphics) file format, which is popular for storing images captured from cameras and is `lossless' (every pixel captured is stored, so, can also be quite large).  

<p>

The <a href="http://interactivepython.org/runestone/static/thinkcspy/MoreAboutIteration/2DimensionalIterationImageProcessing.html">textbook</a> has a lovely visualization and explanation:

<p>
<img src="thinkGrid.png">
	
<p> To specify a given pixel, you give its row, <tt>r</tt>, and column, <tt>c</tt>, in the grid.  Counting from the upper left hand corner which has index 0,0.  This is unlike standard Cartesian (math) coordinates but echos how
matrices are often accessed.

<p><img src="sic-imageplanes.png" height= 300 align="right">
Each pixel is represented by its the percentage of red, green, and blue ("RGB") values. Images are stored as a grid of red values, a grid of green values, and a grid of blue
values. 

<p>
For example, if we stored our image in the variable, <tt>img</tt>, we could access the red
value by:
<pre style = "background-color:lavender;width:400px">
print "Upper left has red:", img[0,0,0]
</pre>
and the amount of green:
<pre style = "background-color:lavender;width:400px">
print "Upper left has green:", img[0,0,1]
</pre>
and the amount of blue:
<pre style = "background-color:lavender;width:400px">
print "Upper left has blue:", img[0,0,2]
</pre>
Any point can be accessed via its coordinates <tt>(i,j)</tt> and the color channel (0 for red, 1 for green, and 2 for blue).  In our example above, 
with the picture stored in the variable, <tt>img</tt>:
<pre style = "background-color:lavender;width:400px">
img[r,c,chan]
</pre>
where the <tt>r</tt> is the row and <tt>c</tt> is the column of the pixel and <tt>chan</tt> is the color channel (0 for red, 1 for green, and 2 for blue). Note that when we are accessing parts of our images, we use the square brackets ('[' and ']'), just as we did for lists.  The round parenthesis ('(' and ')') are used for functions (like <tt>print()</tt> and <tt>right()</tt>).


<p>
Let's write a program that manipulates an image.  Read through the code first, and then try on your computer.  What does it do?  Note:  this program assumes that you have a file called <a href="csBridge.png">csBridge.png</a> in the same directory.  You can use that file, or substitute one of your own.
<pre style = "background-color:lavender;width:650px">	
#Name:  CSci 127 Teaching Staff
#Date:  Fall 2017
#This program loads an image, displays it, and then creates, displays,
#    and saves a new image that has only the red channel displayed.

#Import the packages for images and arrays:
import matplotlib.pyplot as plt  
import numpy as np


img = plt.imread('csBridge.png')   #Read in image from csBridge.png
plt.imshow(img)		           #Load image into pyplot
plt.show()                         #Show the image (waits until closed to continue)

img2 = img.copy()        #make a copy of our image          
img2[:,:,1] = 0          #Set the green channel to 0
img2[:,:,2] = 0          #Set the blue channel to 0 

plt.imshow(img2)         #Load our new image into pyplot
plt.show()               #Show the image (waits until closed to continue)

plt.imsave('reds.png', img2)  #Save the image we created to the file: reds.png
</pre>

<p>
The code above always produces an image with only the red channel displayed.  How would you modify the program to display only the blue channel?
When you have figured out the answer, see the <a href="ps.html">Programming Problem List</a>.



</div>

<div>
<h3>In-class Quiz</h3>

During lab, there is a <a href="quizzes.html">quiz</a>.  The password to access the quiz will be given during lab.  To complete the quiz, log on to Blackboard (see <a href="lab1.html">Lab 1</a> for details on using Blackboard).

</div>



<div>

<h3>What's Next?</h3>

<p>If you finish the lab early, now is a great time to get a head start on the programming problems due early next week.  There's instructors to help you, and you already have Python up and running.  The <a href="ps.html">Programming Problem List</a> has problem descriptions, suggested reading, and due dates next to each problem.

</div>

<div>
<h3>Using Python on Your Computer</h3>

<p>Today's lab introduced several packages that are freely available but do not always come bundled with Python.  If you are using anaconda at home, then most are included.  See the directions below for other installations. (To install Python at home, see <a href="lab1.html">Lab 1</a> for directions.)


<p>
If you have a Linux machine and would like to match the environment on the lab machines, at a terminal window, type the following commands:
<pre style = "background-color:lavender;width:450px">
sudo apt-get update
sudo apt-get -y upgrade
sudo apt-get install python3 python3-pip idle3
pip3 install numpy pandas folium image matplotlib scipy
sudo apt-get install spyder3
</pre>


</div>


</html>