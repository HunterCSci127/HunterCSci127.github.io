<!DOCTYPE doctype PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
  <meta http-equiv="Content-Type"
 content="text/html; charset=iso-8859-1">
  <title>Programs, CSci 127, Hunter College</title>
  <link rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/googlecode.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head>
<STYLE>A {text-decoration: none;}
th, td { padding: 5px; border: 1px solid black}
table { border: 1px solid black; border-collapse: collapse}
code {
  background-color: #eeeeee;
  border: 1px solid #bbbbbb;
}
.inline {
  padding: 1px;
}
.blockcode {
  border: 1px solid #999999;
  display: block;
  padding-left: 10px;
  padding-top : 2px;
  padding-bottom : 2px;
  margin: 5px;
}
.datablock {
  border: 1px solid #eeeeee;
  display: block;
  padding: 7px;
  padding-top : 0px;
  margin: 5px;
}
li { margin: 10 px 0;}

</STYLE>
<body>


<div style="margin: 15px;">
    <span style= "float: left;font-size:larger"><a href="../f25.html">CSci 127</a></span>
    <span style= "float: right">
      <a href="resources.html">Resources</a>&nbsp;&nbsp;&nbsp;
      <a href="cw.html">Coursework</a>&nbsp;&nbsp;&nbsp;
	  <a href="ps.html">Homework</a>&nbsp;&nbsp;&nbsp;
	  <a href="faq.html">FAQ</a>
    </span>
</div>

<br>
<br>
<hr>


<div style="margin:50px">

<h1>Honors Coursework<br>
CSCI 127: Introduction to Computer Science<br>
Hunter College, City University of New York<br>
Fall 2025<br><br>
</h1>
<hr>

<h3>General Notes</h3>


<ul>
	<li> The work below are additional to the general <a href="cw.html">Coursework</a> required for CSCI 127.  Students enrolled in the honors section are responsible for <b>both the standard coursework as well as those below</b>.
	<li>There is a separate honors section of <a href="http://gradescope.com">Gradescope</a> to submit your programs.</li>
</li>
</ul>


<a id="set1"></a>
<hr>

<ul>
	<br>
	<li > <b>HC 1:  Subway Terminus</b>  <b style="float:right">Due Date: September 4</b>  <br>

	<p>
	<a href="https://circularsquare.github.io/projects/">
		<img src="https://circularsquare.github.io/assets/nycvoronoi.png" height = 600></a><br>
	<small>Anita Xin Chen, <a href="https://circularsquare.github.io/projects/">circularsquare.github.io</a></small></p>

	<p>Throughout the semester, we will focus on transit-oriented development in New York City.  In particular, we will analyze and visualize data for the neighborhoods adjacent to subway stations. The above image shows the number of people who live in the catchment area of each subway stop.  The catchment areas are colored by the subway line (e.g. the IND 8th Avenue Express lines (A/C/E) are colored blue) and the size of the dot reflects the number of residents for whom that stop is the closest.</p>

  	<p>To begin, pick a subway line (i.e. choose one and sign up on Blackboard).  Note that we have split the longer lines into pieces.  Each subway line has an associated terminal stop.  Create a single page summary of the neighborhood around the terminal that includes:
	<ul>
		<li> Name of the neighborhood (include it and subway line in the title),
		<li> The zip code(s) of your neighborhood (many tools for this, including Google Maps and USPS zip code look-up),
		<li> The census tracts encompassing your neighborhood (see <a href="https://geomap.ffiec.gov/FFIECGeocMap/GeocodeMap1.aspx">Census Tract Finder</a>),
		<li> A map of New York City with your neighborhood highlighted,
		<li> An photo or image of the subway stop or one that captures your neighborhood,
		<li> The demographics of your neighborhood, and
		<li> The distance of your neighborhood to Hunter College and to Empire State Building.
	</ul>
	These will be posted in the Blackboard honors section site and form the basis of your showcase presentation (teams for the group projects will be formed based on the adjacency of the subway lines chosen).

	<p>Upload a .pdf to the assignment <tt>HC 1</tt> in the honors section of <a href="http://gradescope.com">Gradescope</a>.  </p>
	<p><i>Note:  Unlike the Python code, it is not automatically graded. </i></p>
</li>

	<br>
	<hr>
	<br>



	<li > <b>HC 2:  Walking in NYC Neighborhoods
	</b> <b style="float:right">Due Date: 11 September</b>  <br>

		<br>
		<p><iframe frameborder="0" src="https://www.walkscore.com" width="80%" height="400" ></iframe>


		<p>  Urban planner, Jeff Speck, argues that if a city succeeds at
		being walkable (and by extension, bikeable), it excels at having a high quality of life (see his
		<a href="https://www.ted.com/talks/jeff_speck_the_walkable_city">TED talk</a>).</p>

		<p>What fraction of the neighborhoods along your subway line are walkable?</p>

		<ul>
			<li>Make a list of the stations on your subway line.  For each, include:
				<ul>
					<li>Name of Station</li>
					<li>Zipcode</li>
					<li>Walkability Score</li>
				</ul>
				We will use this list in future assignments, augmenting it with additional features, in a DataFrame (introduced in Week 6).
			</li>
			<li>Working in pairs or triples, choose 3 neighborhoods from each group member's list.  Include in your list, the terminus neighborhoods of each member in the group focused on last week, the lowest scoring neighborhoods in terms of walkability and the highest scoring neighborhoods in terms of walkability. 
			
			<p>For each of the chosen neighborhoods:</p>
			
		<ul>
			<li> As a group, choose a ranking schema from <a href="https://www.niche.com/places-to-live/search/best-neighborhoods/m/new-york-city-metro-area/">Niche's 2025 Best Neighborhoods</a> (e.g. "Best places to live", "Best for families", "Most diverse", etc or make a customized schema using left sidebar menu). Score the neighborhoods by this schema.  Explain which ranking you schema you used.  You may find the search by zip code at the top of the page useful (scroll down to find rankings).
			<li> Include how did the neighborhoods do in terms of walkability (order the neighborhoods by their <a href= "https://www.walkscore.com">walk scores</a>) versus the Niche schema.

		</ul></li>
		</ul>

		<p> 

		<p> Does your ranking concur with ranking the neighborhoods by walkability?  Justify your answer.

		<p>Submit a .pdf file analyzing the your rankings and walkability of five neighborhoods chosen for the class.  You should use complete sentences and justify your answers with data.
		</p>

<!--
	HC 2  Loops/Strings, background info?, September 9	
	HC 3  Slicing, Colors,  make logos in correct color? September 16
	HC 4  Decisions-- filter a list for subway line, September 30
	HC 5  More on Decisions, October 7
	HC 6  CSV & Pandas-- can select/combine df?, 21 October
-->

	<hr>
	<li > <b>HC 3:  Commuting Costs
	</b> <b style="float:right">Due Date: 18 September</b>  <br>

			<br>
		<p><iframe frameborder="0" scrolling ="no" src="https://project.wnyc.org/transit-time/index.html#40.76700,-73.96361,14,961" width="80%" height="600" ></iframe>

		<p> FiveThirtyEight analyzed the <a href="https://fivethirtyeight.com/features/new-yorkers-will-pay-56-a-month-to-trim-a-minute-off-their-commute/">cost of commuting</a> in terms of the extra New Yorkers were willing to pay to lessen their commute.  <a href="https://streeteasy.com/blog/subway-commute-time-impact/">StreetEasy</a> did a similar analysis, measuring from given subway stops.

		<p> How does distance affect housing prices?  To narrow down the analysis, we will focus on the distance to two landmarks:  Empire State Building (as a proxy for midtown) and Federal Hall (for the financial district) and 3 locations.  You may find <a href="https://project.wnyc.org/transit-time/">WNYC Transit Time</a> or <a href="https://www.google.com/maps">Google Maps</a> useful, as well as
		<a href="https://citymapper.com/nyc?lang=en">CityMapper</a>.

    	Pick, at random, a <a href="https://streeteasy.com/rentals">rentals</a> in each of your terminal neighborhood, your least walkable neighborhood, and your most walkable neighborhood (if those coincide, choose another neighborhood, so you have a total of three neighborhoods).  Make sure that your three rentals are comparable.  That is, all have same number of bedrooms, same number of bathrooms, and similar features:

		<ul>
			<li> Compute the <b>shortest commute driving</b> to the Empire State Building or Federal Hall for those locations.  Assume that you are arriving at 8:30am on a weekday.
			<li> Compute the <b>shortest commute by public transit</b> to the Empire State Building or Federal Hall for those locations.  Assume that you are arriving at 8:30am on a weekday and that you walk to the nearest station.
      		<li> Compute the <b>shortest commute by public transit,</b> to Hunter College for those locations.  Assume that you are arriving at 8:30am on a weekday.
		</ul>

		<p> Using the analysis from FiveThirtyEight, analyze what the difference in rental prices should be. 
		Is that difference reflected in the data you collected?  Justify your answer.

		<p>Submit a .pdf file analyzing the time and cost of commuting of your neighborhoods.  You should use complete sentences and justify your answers with data.
		</p>





	<hr>
		<li > <b>HC 4:  Subway Logo
	</b> <b style="float:right">Due Date: 25 September</b>  <br>

	<p>
	<a href="https://en.wikipedia.org/wiki/List_of_New_York_City_Subway_lines">
		<img src="../images/wiki_subway_hexcodes.png" height = 400></a><br>
	<small><a href="https://en.wikipedia.org/wiki/List_of_New_York_City_Subway_lines">wiki subway lines</a></small></p>

	<p>
	In Lectures 3 and 4, we introduced colors, specified by hex codes.  Use <tt>matplotlib</tt> and <tt>numpy</tt> and hexcodes above, create a logo for your subway line.  
	
	<p>Submit your Python code and .pdf file including your image to Gradescope.
		</p>	
	

<hr>

			<li > <b>HC 5:  Initial Website
	</b> <b style="float:right">Due Date: 6 November</b>  <br>

<p><a href="https://github.com/">
		<img src="../images/githublogo.png" height = 200></a><br>
	<small><a href="https://github.com/">GitHub</a></small>
</p>

<p>
Initialize your website skeleton and commit to GitHub. Submit the link to your GitHub repository on Gradescope.
</p>

<p>Once complete, read through the following resources. You will need to know these topics for your final presentation.</p>	

<ul>
	<li><a href="https://docs.github.com/en/get-started/git-basics/set-up-git">Set up git</a></li>
	<li><a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/about-ssh">About SSH</a></li>
	<li><a href="https://www.atlassian.com/git/tutorials/comparing-workflows/feature-branch-workflow">Git feature branch workflow</a></li>
	<li><a href="https://docs.google.com/document/d/1IiKHX0lIk7n_AlNIttbD1d1ICukPVodbYmWj0IaCSPE/edit?tab=t.0">Git notes</a></li>
	<li><a href="https://www.w3schools.com/html/default.asp">HTML tutorial</a></li>
	<li><a href="https://www.w3schools.com/css/default.asp">CSS tutorial</a></li>
</ul>

	

<hr>

			<li > <b>HC 6:  Additional Data
	</b> <b style="float:right">Due Date: 19 November</b>  <br>

	<p>
	<a href="https://popfactfinder.planning.nyc.gov/">
		<img src="../images/nyc_pop_data.png" height = 400></a><br>
	<small><a href="https://popfactfinder.planning.nyc.gov/">NYC Population Fact Finder</a></small></p>

	<p>
	In addition to your walkability scores and niche ratings, add at least two more demographic data sources to your data set of neighborhoods (i.e. average income, average rent, average age, racial breakdown, etc)
	<br> <br>
	Some possible data sources include <a href="https://popfactfinder.planning.nyc.gov/">NYC Population Fact Finder</a>, <a href="https://streeteasy.com/blog/data-dashboard/[object%20Object]">Street Easy</a>, and <a href="https://data.cccnewyork.org/data/table/66/median-incomes#66/107/131/a/a">CCC New York</a>.
	<br> <br>
	Gradescope only accepts PDF or images of submissions so please save your updated data set (the results of merging) table as a PDF and submit the full table via Gradescope.
		</p>	
	

<hr>

				<li > <b>HC 7:  Analysis Plots
	</b> <b style="float:right">Due Date: 28 November</b>  <br>

	<p>
	<a href="https://popfactfinder.planning.nyc.gov/">
		<img src="../images/nyc_pop_data.png" height = 400></a><br>
	<small><a href="https://matplotlib.org/stable/api/pyplot_summary.html">MatPlotLib Documentation</a></small></p>

	<p>
	Create at least 3 plots of your updated data set to help you with the overall analysis question of <b>What features contribute to the niche score</b>
	<br> <br>
	Two plots should show <b>relationships</b> between features in your data set. For example, a scatter plot of the relationship between niche score and average income.
	<br> <br>
	Submit PDFs of your plots on Gradescope.
	</p>	
<hr>	

					<li > <b>HC 8:  Adding Plots to Website
	</b> <b style="float:right">Due Date: 10 December</b>  <br>
	<p>
	In class on Dec 5, Professor Lynch will demonstrate how to add your plots and qualitative descriptions to your GitHub website. 
	</p>

<hr>

						<li > <b>Final Presentations:  What Contributes to Niche Score?
	</b> <b style="float:right">Due Date: 12 December</b>  <br>
	<p>
	In class on Dec 12, as groups (same groups from the midterm presentation) you will present your analysis answering the question <b>what features contribute to niche score?</br>
	</p>

<hr>


	
<!--

	<hr>
		<li > <b>HC 4:  Cost of Commuting
	</b> <b style="float:right">Due Date: 23 September</b>  <br>


		<br>
		<p><iframe frameborder="0" scrolling ="no" src="https://project.wnyc.org/transit-time/index.html#40.76700,-73.96361,14,961" width="80%" height="600" ></iframe>

		<p> FiveThirtyEight analyzed the <a href="https://fivethirtyeight.com/features/new-yorkers-will-pay-56-a-month-to-trim-a-minute-off-their-commute/">cost of commuting</a> in terms of the extra New Yorkers were willing to pay to lessen their commute.  <a href="https://streeteasy.com/blog/subway-commute-time-impact/">StreetEasy</a> did a similar analysis, measuring from given subway stops (and includes a lovely Tableaux map-- scroll down).

		<p> How will availability of CitiBikes affect housing prices?  To narrow down the analysis, we will focus on the distance to two landmarks:  Empire State Building (as a proxy for midtown) and Federal Hall (for the financial district) and 3 locations.  You may find <a href="https://project.wnyc.org/transit-time/">WNYC Transit Time</a> or <a href="https://www.google.com/maps">Google Maps</a> useful, as well as
		<a href="https://citymapper.com/nyc?lang=en">CityMapper</a>.

    Pick, at random, three <a href="https://streeteasy.com/rentals">rentals</a> in your neighborhood.

		<ul>
			<li> Compute the <b>shortest commute driving</b> to the Empire State Building or Federal Hall for those locations.  Assume that you are arriving at 8:30am on a weekday.
			<li> Compute the <b>shortest commute by public transit</b> to the Empire State Building or Federal Hall for those locations.  Assume that you are arriving at 8:30am on a weekday and that you walk to the nearest station.
      		<li> Compute the <b>shortest commute by public transit, <u>assuming you bike between the apartment and station</u>,</b> to the Empire State Building or Federal Hall for those locations.  Assume that you are arriving at 8:30am on a weekday.
		</ul>

		<p> Using the analysis from FiveThirtyEight, predict what the tunnel closure will do to the prices of your three chosen apartments. Justify your answer.

		<p>Submit a .pdf file analyzing the time and cost of commuting of your neighborhood.  You should use complete sentences and justify your answers with data.
		</p>

	<hr>
	<li > <b>HC 5:  Highlighted Map
	</b> <b style="float:right">Due Date: 2 October</b>  <br>


    <p><img src="../f18/hunterSatMap.png" height = 300>
    <img src="../f18/hiLight.png" height = 300>

		<p>
    For this program, we will create a highlighted map around centered on your neighborhood, with the region within about a 1/4 mile box at full brightness, the region that outside that box at 50% brightness.

		<p> To do this:
		<ul>
			<li> Create a .png file of a satellite map, centered on your neighborhood (Google maps works well for this, but you can use any mapping site to create your base map).
			<li> Write a Python program that reads in an image and saves the image to another file.  Run your program to make sure the reading and saving of an image works.
      <li> Set the upper region of the image to 50% brightness (hint:  uses slices and see example in Lecture 3 and 4).  Run your program to make sure it has dimmed up the upper region and adjust to get the correct dimenssions.
      <li> Set the lower region of the image to 50% brightness (hint:  think about what negative numbers mean as indices).  Run your program and fix any bugs.
			<li> Next, dim the side regions (hint:  think about what parts of the image have not been dimmed and change only those regions.)
		</ul>

		<p> Submit your answer as a .pdf file to gradescope.


  <hr>
  <li > <b>HC 6: Neighborhood Grid</b> <b style="float:right">Due Date: 7 October</b>  <br>

  <p><img src="ridgewood_grid.png" height = 300>

  <p> To determine where to place new bike stations, the NYC Department of Transportation, divided each region into 1000-square-foot grid (see p 25 of the <a href="http://www.nyc.gov/html/dot/downloads/pdf/bike-share-outreach-report.pdf">NYC Bike Share Report</a> for a sample grid).

  <p>Take an image of your neighborhood and overlay it with a 1000 square-foot grid.

  <p> To do this:
  <ul>
    <li> Create a .png file of a map centered on your neighborhood (Google maps works well for this, you may look at the 1000ft bar in the lower right corner to determine how many squares in your image. Make sure your neighborhood is hilighted on the map).
    <li> Write a Python program that reads in the image.
    <li> Calculate your grid-interval based on how many 1000ft squares fit in your image.
    <li> Change the color of each row and column in your image at the grid-interval you have determied to turn it black. (hint:  uses slices and see example with intervals -- skipping rows/columns with step -- in Lecture 4).
    <li> Save the image to another file.
  </ul>

<p> Your answer should have your image on the first page and the code you used to generate the image on the next page.  Submit your answer as a .pdf file to gradescope.


<hr>





  <li > <b>HC 7: Station Density & Locations</b> <b style="float:right">Due Date: 15 October</b>  <br>

	<p>
	<img src="bikeShareStationFeatures.png" height=600>
	<br><small>(Workshop Table Graphic, <a href="http://www.nyc.gov/html/dot/downloads/pdf/bike-share-outreach-report.pdf">NYC Bike Share Report</a>, p 26.)</small>
	<br>


	<p> Where should bike stations go in your neighborhood?  The criteria outlined in the <a href="http://www.nyc.gov/html/dot/downloads/pdf/bike-share-outreach-report.pdf">NYC Bike Share Report</a> aimed to have at least one station per every 1000-square-feet and be near destinations such as train/bus stops, museums, shopping, and parks (see graphic above).

	<p> Identify 3-5 possible locations that would be a good location for a bike station in each grid location (include the cross streets or short description if mid-block, as well as which side-- such as "north east corner of the intersection") and a short justification of why that location would be good.

  	<p> Your answer should contain your grid (from HC 6) and a itemized list with an entry of the locations for each region in the grid.
	<p> Submit your answer as a .pdf file to gradescope.

<hr>

<i>More to come...</i>


	<hr>
	<li > <b>HC 8:  Neighborhood geoJSON Map

	</b> <b style="float:right">Due Date: 21 October</b>  <br>

  <p><href="http://geojson.org"><img src="../f18/geoJSON.png" height = 200></a>

		<p> Using the geoJSON mapper (see <a href="../f19/geoJSONnotes.html">geoJSON notes</a>), make a JSON file that includes the following features:
		<ul>
			<li> Your neighborhood marked as a region (e.g. polygon),
      		<li> Any subway lines (marked as a line: color code to match the MTA colors, e.g. the A line is blue, the 1 line is red, 4-5-6 lines are green),
			<li> Green markers for your <b>first choice</b> of CitiBike stations, one for each 1000sft in your neighborhood grid.
      <li> Yellow markers for your <i>second choice</i> of CitiBike stations, one for each 1000sft in your neighborhood grid.
		</ul>
		<p> Commit to github, and view using the github preview button (you should see you encoding rendered graphically on a map).

		<p> Submit a screenshot of your map as a .pdf file.
	<hr>



	<li > <b>HC 9:  Webpage</b> <b style="float:right">Due Date: 28 October</b>  <br>



		<p> We are going to be using github to make webpages for your projects.  There will be only one final site for each team, but we want everyone to set up their own page as a warm-up exercise.

		<p>Create a github page for your neighborhood.
		<ol>
			<li> If you haven't done so already, set up a repository for your neighborhood project (see the getting started tutorials from <a href="lab5.html">Lab 5</a> on how to set up a repository).
			<li> Follow through the options for <a href="https://pages.github.com/">setting up a page for your project</a> (scroll down right under the "Ready to get started?...").
			<li> Include on your neighborhood page:
				<ul>
					<li> the name of the neighborhood,
            <li> the basic demographics & statistics from the HC 1 and
					<li> the outline of the neighborhood with your proposed CitiBike stations (the .json file you created in the previous classwork for HC 8),
		</ol>

		<p>  Submit a .pdf file that contains the URL of your project on github (web address) and a screenshot of your webpage.


	<hr>



	<li > <b>HC 10:  Project Plan</b> <b style="float:right">Due Date: 4 November</b>  <br>

	<br>
    <p><img src="http://d21xlh2maitm24.cloudfront.net/nyc/pr351-19-citibike-expansion.png?mtime=20190717103528" height = 600>

		<p> The honors section will have final presentations on 6 December, addressing, the  <a href="https://www.citibikenyc.com/blog/major-citi-bike-expansion-map-revealed">Expansion of CitiBike</a>:

      <blockquote>
  			The de Blasio Administration joined Lyft to today announce the boundaries of the planned expansion of Citi Bike over the next five years, which will bring the nation's largest bike share system to a larger and more economically diverse range of communities. Last November, the City and Lyft announced an agreement in which Lyft would invest $100 million to grow and strengthen the system, doubling the size of its service area and tripling the number of bikes over the next five years. The third phase of Citi Bike's expansion will bring Citi Bike to all of Manhattan, as well as into the Bronx, and deeper into Brooklyn and Queens.
  		</blockquote>

    <p>In particular,
      <blockquote>
  			Focusing on the expansion in three different boroughs, will the presence of CitiBike significantly affect residents' commute?
  		</blockquote>

		<p>You will work with your team to develop your presentation, which has 2 parts:
		<ul>
			<li> A 60-second lightning presentation (upto 2 slides) that contains who is on the team, the neighborhoods you chose, and a brief description of the effects you envision CitiBike's presence will have in these neighborhoods with particular focus on daily commute.
			<li> A computer "poster" (aka a github site) consisting of a website with a description of your neighborhoods and an analysis of the effects of CitiBike's presence in these neighborhoods.
		</ul>

		<p>For this group assignment, include in a .pdf file:
		<ul>
			<li> The neighborhoods that your team has chosen,
			<li> The names of the team members,
      <li> A discussion of how the presence of CitiBike will affect your neighborhoods (justify your claims with your answers to HC1 to HC4)
		</ul>


	<hr>

	<li > <b>HC 11: Citibike Map</b> <b style="float:right">Due Date: 11 November</b>  <br>



<p>
<iframe src="bikeLocations.html" style="width: 95%; height: 700px" name="internal"></iframe>

<p>New York City's bike share program, CitiBike, provides extensive <a href="https://www.citibikenyc.com/system-data">data about their system</a>.
The data is stored in the <a href="https://www.json.org">JSON format</a>.  In addition to directly reading in CSV files, Pandas has a built-in function for reading in JSON files.

<p>
Citibike includes a real-time feed of the status of stations in the system.
The feed is in JSON.  Here's the beginning of the file:

<pre style ="background-color:lavender;width:1500px">
{"executionTime":"2017-03-21 10:37:12 PM",
"stationBeanList":[
{"id":72,"stationName":"W 52 St & 11 Ave","availableDocks":18,"totalDocks":39,"latitude":40.76727216,"longitude":-73.99392888, "statusValue":"In Service",
"statusKey":1,"availableBikes":19,"stAddress1":"W 52 St & 11 Ave","stAddress2":"","city":"","postalCode":"","location":"","altitude":"","testStation":false,
"lastCommunicationTime":"2017-03-21 10:36:30 PM","landMark":""},
{"id":79,"stationName":"Franklin St & W Broadway","availableDocks":31,"totalDocks":33,"latitude":40.71911552,"longitude":-74.00666661,"statusValue":"In Service",
"statusKey":1,"availableBikes":0,"stAddress1":"Franklin St & W Broadway","stAddress2":"","city":"","postalCode":"","location":"","altitude":"","testStation":false,
"lastCommunicationTime":"2017-03-21 10:33:23 PM","landMark":""},
{"id":82,"stationName":"St James Pl & Pearl St","availableDocks":23,"totalDocks":27,"latitude":40.71117416,"longitude":-74.00016545,"statusValue":"In Service",
"statusKey":1,"availableBikes":4,"stAddress1":"St James Pl & Pearl St","stAddress2":"","city":"","postalCode":"","location":"","altitude":"","testStation":false,
"lastCommunicationTime":"2017-03-21 10:34:12 PM","landMark":""},
</pre>

<p>It begins with the time the file was created, followed by information about each station in a field marked <tt>stationBeanList</tt>.  Each entry is organized as dictionary with (key:value) pairs.  Let's look at the bean list entry for the first station:
<pre style ="background-color:lavender;width:500px">
   {"id":72,
   "stationName":"W 52 St & 11 Ave",
   "availableDocks":18,
   "totalDocks":39,
   "latitude":40.76727216,
   "longitude":-73.99392888,
   "statusValue":"In Service",
   "statusKey":1,
   "availableBikes":19,
   "stAddress1":"W 52 St & 11 Ave",
   "stAddress2":"",
   "city":"",
   "postalCode":"",
   "location":"",
   "altitude":"",
   "testStation":false,
   "lastCommunicationTime":"2017-03-21 10:36:30 PM",
   "landMark":""}
</pre>

<p>
Which ones are useful for making a map?  We need latitude and longitude.  For our popup message, it would also be good to give location as well as the number of bikes available and number of docks.  If we called the stationBeanList entry for a station, <tt>beanList</tt>, these entries would be:
<pre style ="background-color:lavender;width:500px">
   beanList['latitude']
   beanList['longitude']
   beanList['name']
   beanList['availableBikes']
   beanList['totalDocks']
</pre>


<p>
To build our map, we need to:
<ol>
	<li> Read in the json file.
	<li> Create a map object (variable).
	<li> Extract the location, name, and bike information for each dock.
	<li> Add a marker for each dock to our map.
	<li> Save our map.
</ol>
<p>

<p>The new part is reading in a <tt>json</tt> file, but pandas has a built-in method to do that for us:  <tt>read_json()</tt>:
<pre style ="background-color:lavender;width:650px">stations = pd.read_json('https://feeds.citibikenyc.com/stations/stations.json')
</pre>

<p>The second step, creating a map object, is the same as before:
<pre style ="background-color:lavender;width:650px">
mapBikes = folium.Map(location=[40.75, -73.99],tiles="Cartodb Positron",zoom_start=14)
</pre>

<p>Extracting the information from each row has an added level, since the information is stored in the dictionary, <tt>stationBeanList</tt>.  To make the lines more readable, we will save <tt>row['stationBeanList']</tt> as the variable <tt>beanList</tt>.  The rest of the <tt>for</tt> is the same as previous prorgrams:

<pre style ="background-color:lavender;width:1200px">
for i,row in stations.iterrows():
    beanList = row['stationBeanList']
    lat = beanList['latitude']
    lon = beanList['longitude']
    name = beanList['stationName'] + ": " + str(beanList['availableBikes']) + " bikes available of " + str(beanList['totalDocks']) + " total bikes"
    print(name)
    if beanList['statusValue'] == 'Not In Service':
        name = beanList['stationName'] + ": Not In Service"
        i = folium.Icon(color='lightgray')
    else:
        name = beanList['stationName'] + ": " + str(beanList['availableBikes']) + " bikes available of " + str(beanList['totalDocks']) + " total bikes"
        if beanList['availableBikes'] < 2:
            i = folium.Icon(color='red')
        else:
            i = folium.Icon(color='green')
    folium.Marker([lat,lon],popup = name,icon = i).add_to(mapBikes)


#Create the html file with the map:
mapBikes.save(outfile='bikeLocations.html')

</pre>

<p>Putting this altogether gives the python program, <a href="cbStations.py">cbStations.py</a>.

<p>Note:  You can directly read from a URL, as we did in this program, or if you would like to work off-line, you can download the JSON file, save it locally, and use it as before.

<p>Modify the program in the following way:
	<ul>
		<li> Modify the popup message to give the percent full the station is
		(i.e. the percentage of docks full at a station).  <br> <i>Hint: compute the percentage and then add it to your message-- remember to cast/convert it to string.</i>
		<li> Modify the program to only show a red marker if there are less than 25% of the bikes available (currently, it shows it for < 2).
	</ul>

<p>
Submit a .pdf that contains a screenshot of your map on the first page and the Python program that produces it on the next page.


	<hr>




	<li > <b>HC 12: Catchments for Proposed  Bike Stations</b> <b style="float:right">Due Date: 18 November</b>  <br>


      <p>A <a href="https://en.wikipedia.org/wiki/Voronoi_diagram">Voronoi diagram</a> divides a region based on the distance to a set of input points.  This simple idea has many applications, one of the most famous was the <a href="http://johnsnowbicentenary.lshtm.ac.uk/about-john-snow/">work of John Snow</a> to study the 1854 cholera outbreak.  Our focus will be on mapping current and proposed CitiBike stations.

      <p>The sample program builds a Voronoi diagram for the existing CitiBike stations.
      The map highlights the regions closest to each station:

      <p>
      <iframe src="libVorBike.html" style="width: 95%; height: 600px" name="internal"></iframe>

      <p>To make our map, we
      <ol>
      	<li> First extract the relevant station data from the Citibike real-time feed we used in the previous assignment.
             Because the feed is in JSON, we extract the relevant data into a new dataframe to facilitate the addition of new stations.
        <li> Next take station locations and calculate the Voronoi diagram (using the <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.Voronoi.html">scipy</a> package).
      	<li> While going row by row to get the station locations, add markers to the map (we're adding them as separate markers, not a MarkerCluster, since we don't want them to collapse when zooming out).
      	<li> Show the plot in a matplotlib window to make sure its working (note:  if you have a separate matplotlib window you may need to close it, since the rest of the program is waiting until it's done to continue).
      	<li> Then write out the locations as a geojson file (using the <a href="https://pypi.python.org/pypi/geojson">geojson</a>).
      	<li> Load the regions in as a geoJSON layer in folium.

      </ol>

      <p>If you are using anaconda (either spyder, idle3, or jupyter), the scipy and matplotlib packages are included.  To install geojson, type at a terminal window:
      <pre>
      	pip install geojson
      </pre>

      <p> The program, <a href="makeVorBikes.py">makeVorBikes.py</a>, is a bit rambling, but contains all the steps above (a better design would be to split into separate functions or files for the different tasks).

      <p>Try running it. Note that it does very well in dense regions but has odd behavior on the edges of the map since we didn't include in the <tt>.json</tt> file any point at infinity and didn't clip the maps to the city boundaries.

      <p><b>Modify the program as follows:</b>
      <ul>
      	<li> <a href = "https://www.latlong.net/">Find the latidude and longitude</a> for each of the bike stations you proposed in HC 8 (first choice only).
        <li> Add rows in the stations dataframe for the stations you propose. You can call your stations Proposed1 ... Proposedn and set their 'statusValue' to 'Proposed'
        <li> Change the color of the markers on the map based on the 'statusValue' and set it to 'lightgray' if the staus is 'Not In Service', 'red' if the staus is 'Proposed' and 'green' for all other.

      </ul>
      <p> Run the program now and observe how your proposed bike stations cover your neighborhood.
		<p> <b>Submit</b> a .pdf file with the name of your neighborhood and a screen capture image of the HTML map generated with your modifications on the first page  and a copy of your modfied program on the second page.

	<hr>


	<li > <b>HC 13: Project Webpage</b> <b style="float:right">Due Date: 25 November</b>  <br>

		<p> Submit the URL of your group webpage poster/presentation as part of a .pdf file. If you have plans to add more to the website, include in the .pdf file any changes you have planned but didn't have a chance to enter yet.

	<hr>

	<li > <b>HC 14: Draft Presentations</b> <b style="float:right">Due Date: 2 December</b>  <br>

    <p> <b>Feedback Forms</b> will be passed out and returned in section on November 29.
      Each team will review and comment the other teams' slides and webpage by filling out fdeedback forms.
      After you have commented on others' group presentations, we will distribute the forms so that groups can use these to improve their slides and webpages for the <b>final presentation on December 6.</b>

    <p> Submit the revised slides of your group presentation (two slides total) as  a .pdf file.  Your slides should include who is on the team, the neighborhood you chose, and a brief description of your proposed citibike expansion and how it will affect your neighborhoods.

	<hr>

</ul>
-->
</div>




<div>
<i style="float:right">(This file was last modified on September 4, 2025.)</i><br>
</div>
</body>
</html>
